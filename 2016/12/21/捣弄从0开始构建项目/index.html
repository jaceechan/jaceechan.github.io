<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <link rel="dns-prefetch" href="http://jaceechan.github.io">
  <title>捣弄从0开始构建项目 | JCBlog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="写在前面的话进入前端开发2年，一直不知道怎么搭建前端项目，一直都是公司前端负责人开好项目，然后往里面填东西，想着自己捣弄点东西，却无从下手，所以奋发图强一下，下定决心要自己构建一个项目。
从目录开始搞清楚  对于这个目录，基本处于懵逼状态，只知道其中几个目录和文件的作用，其他都不是清楚，唯有一个个地进击
-build // …
-config  // src, server 共同使用的config">
<meta property="og:type" content="article">
<meta property="og:title" content="捣弄从0开始构建项目">
<meta property="og:url" content="http://jaceechan.github.io/2016/12/21/捣弄从0开始构建项目/index.html">
<meta property="og:site_name" content="JCBlog">
<meta property="og:description" content="写在前面的话进入前端开发2年，一直不知道怎么搭建前端项目，一直都是公司前端负责人开好项目，然后往里面填东西，想着自己捣弄点东西，却无从下手，所以奋发图强一下，下定决心要自己构建一个项目。
从目录开始搞清楚  对于这个目录，基本处于懵逼状态，只知道其中几个目录和文件的作用，其他都不是清楚，唯有一个个地进击
-build // …
-config  // src, server 共同使用的config">
<meta property="og:updated_time" content="2016-12-21T04:11:43.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="捣弄从0开始构建项目">
<meta name="twitter:description" content="写在前面的话进入前端开发2年，一直不知道怎么搭建前端项目，一直都是公司前端负责人开好项目，然后往里面填东西，想着自己捣弄点东西，却无从下手，所以奋发图强一下，下定决心要自己构建一个项目。
从目录开始搞清楚  对于这个目录，基本处于懵逼状态，只知道其中几个目录和文件的作用，其他都不是清楚，唯有一个个地进击
-build // …
-config  // src, server 共同使用的config">
  
    <link rel="alternative" href="/atom.xml" title="JCBlog" type="application/atom+xml">
  
  
    <link rel="icon" href="http://7q5b06.com1.z0.glb.clouddn.com/LOGO.png?imageView2/1/w/20/h/20">
  
  <link rel="stylesheet" href="/main.css" type="text/css">
  

</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="http://7q5b06.com1.z0.glb.clouddn.com/LOGO.png?imageView2/1/w/200/h/200" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Jacee Chan</a></h1>
		</hgroup>

		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">Home</a></li>
	        
				<li><a href="/archives">Aticles</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)"> All </a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)"> Tags </a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="2" href="javascript:void(0)"> About Me </a>
    			
    			
            
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/jaceechan" title="github">github</a>
		        
					<a class="weibo" target="_blank" href="http://www.weibo.com/jaceechan" title="weibo">weibo</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">Jacee Chan</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="http://7q5b06.com1.z0.glb.clouddn.com/LOGO.png?imageView2/1/w/200/h/200" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">Jacee Chan</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">Home</a></li>
		        
					<li><a href="/archives">Aticles</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/jaceechan" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://www.weibo.com/jaceechan" title="weibo">weibo</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        <article id="post-捣弄从0开始构建项目" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      捣弄从0开始构建项目
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="u5199_u5728_u524D_u9762_u7684_u8BDD"><a href="#u5199_u5728_u524D_u9762_u7684_u8BDD" class="headerlink" title="写在前面的话"></a>写在前面的话</h3><pre><code>进入前端开发2年，一直不知道怎么搭建前端项目，一直都是公司前端负责人开好项目，然后往里面填东西，想着自己捣弄点东西，却无从下手，所以奋发图强一下，下定决心要自己构建一个项目。
</code></pre><h3 id="u4ECE_u76EE_u5F55_u5F00_u59CB_u641E_u6E05_u695A"><a href="#u4ECE_u76EE_u5F55_u5F00_u59CB_u641E_u6E05_u695A" class="headerlink" title="从目录开始搞清楚"></a>从目录开始搞清楚</h3><p>  对于这个目录，基本处于懵逼状态，只知道其中几个目录和文件的作用，其他都不是清楚，唯有一个个地进击</p>
<p>-build // …</p>
<p>-config  // src, server 共同使用的config</p>
<p>-dist // 项目打包后存放的目录</p>
<p>-node_modules  //第三方模块安装后存放的目录</p>
<p>-scripts // …</p>
<p>-server //服务器端代码</p>
<p>-src //前端代码</p>
<p>-.babelrc //babel配置文件</p>
<p>-.editorconfig //EditorConfig配置文件</p>
<p>-.eslintrc //eslint配置文件</p>
<p>-.gitignore // git的忽略文件的配置文件</p>
<p>-.npmignore  // npm的忽略文件的配置文件，若没有则使用.gitignore的配置</p>
<p>-.stylelintrc // styleLint 的配置文件</p>
<p>-dist.zip // 打包后的文件</p>
<p>-dump.rdb // redis 产生的文件</p>
<p>-index.js //….</p>
<p>-npm-debg.log // npm 错误时产生的文件，记录错误的细节</p>
<p>-package.json npm说明文件</p>
<p>-wepack.config.js // webpack配置文件</p>
<p>-yarn.lock // yarn的文件，执行yarn命令后自动生成</p>
<h3 id="u51E0_u4E2A_u91CD_u8981_u7684_u5DE5_u5177"><a href="#u51E0_u4E2A_u91CD_u8981_u7684_u5DE5_u5177" class="headerlink" title="几个重要的工具"></a>几个重要的工具</h3><h5 id="u4EE3_u7801_u68C0_u6D4B_u4E0E_u7F16_u7801_u89C4_u8303_u7C7B"><a href="#u4EE3_u7801_u68C0_u6D4B_u4E0E_u7F16_u7801_u89C4_u8303_u7C7B" class="headerlink" title="代码检测与编码规范类"></a>代码检测与编码规范类</h5><h6 id="EditorConfig_uFF08http_3A//editorconfig-org/_uFF09"><a href="#EditorConfig_uFF08http_3A//editorconfig-org/_uFF09" class="headerlink" title="EditorConfig（http://editorconfig.org/）"></a>EditorConfig（<a href="http://editorconfig.org/）" target="_blank" rel="external">http://editorconfig.org/）</a></h6><p>EditorConfig是一套用于统一代码格式的解决方案，它可以帮助开发者在不同的编辑器和IDE之间定义和维护一致的代码风格。它需要一个配置文件配置相应的内容和一个编辑的插件共同配合使用。</p>
<ul>
<li><p>配置文件的编写</p>
<p>  项目根目录建立.editorconfig文件，一般JS项目的配置内容如下：</p>
</li>
</ul>
<ul>
<li><p>插件</p>
<p>  自己使用的IDE是否支持，是否需要另外安装插件可以到官网查看并下载相应的插件。如果是sublime，直接在Package Control里搜EditorConfig然后安装就可以。</p>
</li>
</ul>
<h6 id="ESLint_uFF08http_3A//eslint-org/_uFF09"><a href="#ESLint_uFF08http_3A//eslint-org/_uFF09" class="headerlink" title="ESLint（http://eslint.org/）"></a>ESLint（<a href="http://eslint.org/）" target="_blank" rel="external">http://eslint.org/）</a></h6><p>ESLint是一款代码检测工具，可以根据配置用来避免一些低级错误和统一代码风格。</p>
<p>需要安装相应的库（ESLint），编辑器插件（sublime 的是 SublimtLinter-contrib-eslint）再配合配置文件或者代码注释使用，具体使用方式可参考<a href="http://www.tuicool.com/articles/7JZZJzn" target="_blank" rel="external">http://www.tuicool.com/articles/7JZZJzn</a> <a href="http://www.cnblogs.com/le0zh/p/5619350.html" target="_blank" rel="external">http://www.cnblogs.com/le0zh/p/5619350.html</a></p>
<p>由于ESLint本身仅支持语法有限,如果还使用其他则还需要插件，常见ESLint插件有：</p>
<ul>
<li><p>babel-eslint</p>
</li>
<li><p>eslint-plugin-babel</p>
</li>
<li><p>eslint-plugin-react</p>
</li>
</ul>
<h6 id="StyleLint_uFF08http_3A//stylelint-io/_uFF09"><a href="#StyleLint_uFF08http_3A//stylelint-io/_uFF09" class="headerlink" title="StyleLint（http://stylelint.io/）"></a>StyleLint（<a href="http://stylelint.io/）" target="_blank" rel="external">http://stylelint.io/）</a></h6><p>StyleLint是对css,sass进行代码审查的工具。需要安装相应的库（stylelint），编辑器插件（sublime 的是 SublimtLinter-contrib-stylelint）再配合配置文件使用</p>
<ul>
<li><p>第三方依赖库安装工具</p>
<p>  项目中使用的第三方库依赖情况可以通过package.json里面查看和配置。</p>
<p>  安装工具使用npm，喜欢yarn的可以再安装一下yarn</p>
</li>
</ul>
<h5 id="u4EE3_u7801_u7F16_u8BD1_u53CA_u6253_u5305_uFF08_u91CD_u70B9_uFF09"><a href="#u4EE3_u7801_u7F16_u8BD1_u53CA_u6253_u5305_uFF08_u91CD_u70B9_uFF09" class="headerlink" title="代码编译及打包（重点）"></a>代码编译及打包（重点）</h5><h6 id="Webpack"><a href="#Webpack" class="headerlink" title="Webpack"></a>Webpack</h6><p>模块化管理和代码打包工具，另外配合webpack-dev-server可以构建本地服务器，达到热更新的效果，还能生成Source Maps方便调试。</p>
<h6 id="Babel"><a href="#Babel" class="headerlink" title="Babel"></a>Babel</h6><p>代码编译工具，使用Babel可以使用新的JavaScript标准进行开发，还能使用基于JavaScript拓展的语言，例如JSX。</p>
<h3 id="u4F7F_u7528webpack_+_babel__u6784_u5EFA_u9879_u76EE"><a href="#u4F7F_u7528webpack_+_babel__u6784_u5EFA_u9879_u76EE" class="headerlink" title="使用webpack + babel 构建项目"></a>使用webpack + babel 构建项目</h3><h5 id="u6784_u5EFA_u9879_u76EE_u51C6_u5907"><a href="#u6784_u5EFA_u9879_u76EE_u51C6_u5907" class="headerlink" title="构建项目准备"></a>构建项目准备</h5><ol>
<li><p>新建一个项目文件夹用于练习，此处命名为hello-project</p>
</li>
<li><p>执行<code>npm init</code> 自动创建package.json文件</p>
</li>
</ol>
<h4 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h4><h6 id="u4EC0_u4E48_u662Fwebpack"><a href="#u4EC0_u4E48_u662Fwebpack" class="headerlink" title="什么是webpack"></a>什么是webpack</h6><p>Webpack 是当下最热门的前端资源模块化管理和打包工具。它可以将许多松散的模块按照依赖和规则打包成符合生产环境部署的前端资源。还可以将按需加载的模块进行代码分隔，等到实际需要的时候再异步加载。通过 loader 的转换，任何形式的资源都可以视作模块，比如 CommonJs 模块、 AMD 模块、 ES6 模块、CSS、图片、 JSON、Coffeescript、 LESS 等。 —webpack 中文指南</p>
<h6 id="webpack_u7684_u5DE5_u4F5C_u65B9_u5F0F"><a href="#webpack_u7684_u5DE5_u4F5C_u65B9_u5F0F" class="headerlink" title="webpack的工作方式"></a>webpack的工作方式</h6><p>webpack根据模块的依赖关系进行分析，然后根据用户的配置将这些模块按照指定规则生成对应的静态文件</p>
<h6 id="u5982_u4F55_u4F7F_u7528webpack"><a href="#u5982_u4F55_u4F7F_u7528webpack" class="headerlink" title="如何使用webpack"></a>如何使用webpack</h6><p>1.安装webpack</p>
<p><code>npm -s webpack</code></p>
<p><code>yarn add —dev webpack</code></p>
<p>2.构建目录</p>
<ul>
<li>app 放置打包前的文件， js模块</li>
<li>public 浏览器读取本文件夹的内容，放置后的文件会放置在此目录下，</li>
</ul>
<p>public/index.html 文件只有最基础的html代码，它唯一的目的就是加载打包后的js文件（bundle.js）<br>app/Greeter.js<br>app/main.js</p>
<p>3.使用webpack<br>    使用方式有两种：终端命令和配置文件</p>
<ul>
<li><p>终端命令<br>  一般项目实践中比较少直接通过终端命令使用webpac，具体查看官方文档<a href="http://webpack.github.io/docs/cli.html" target="_blank" rel="external">http://webpack.github.io/docs/cli.html</a></p>
</li>
<li><p>配置文件<br>  项目实践中，webpack用到的功能比较多，虽然都可以直接通过终端命令来实现，但是不方便，很容易出错，所以一般都通过配置文件使用webpack</p>
<p>  使用方法：</p>
<p>  根目录创建webpack.config.js</p>
<pre><code>扩展：如果把webpack,config.js 改成 webpack.config.bable.js ，配置文件中也能使用ES6，webpack在执行时会先把webpack.config.babel.js转换成ES5代码后再执行
只要你把配置文件命名成 webpack.config.[loader].js ，Webpack 就会用相应的 loader 去转换一遍配置文件。所以要使用这个方法，  你需要安装 babel-loader 和 babel-core 两个包。记住你不需要完整的 babel 包。
</code></pre><p>  终端输入webpack(非全局安装需使用node_modules/.bin/webpack)命令即刻打包，webpack会根据webpack.config.jsl里面的配置打包项目</p>
</li>
<li><p>配合npm使用</p>
<p>  执行类似于node_modules/.bin/webpack这样的命令其实是比较烦人且容易出错的，不过值得庆幸的是npm可以引导任务执行，对其进行配置后可以使用<br>  简单的npm start命令来代替这些繁琐的命令。在package.json中对npm的脚本部分进行相关设置即可，设置方法如下。</p>
</li>
</ul>
<h3 id="u5F3A_u5927_u7684Loader"><a href="#u5F3A_u5927_u7684Loader" class="headerlink" title="强大的Loader"></a>强大的Loader</h3><p>Loader是webpack里面最重要的工具，通过使用不同的Loader，可以对不同格式的文件进行相应的处理，例如将React的JSX文件转换成JS文件，将SCSS文件转换成CSS文件，还能进行转码，将下一代标准的JS代码转换成现代浏览器通用的JS代码，十分强大。</p>
<h5 id="u4F7F_u7528_u65B9_u6CD5"><a href="#u4F7F_u7528_u65B9_u6CD5" class="headerlink" title="使用方法"></a>使用方法</h5><p>Loaders需要单独安装并且需要在webpack.config.js下的modules关键字下进行配置，Loaders的配置选项包括以下几方面：<br>test：一个匹配loaders所处理的文件的拓展名的正则表达式（必须）<br>loader：loader的名称（必须）<br>include/exclude:手动添加必须处理的文件（文件夹）或屏蔽不需要处理的文件（文件夹）（可选）；<br>query：为loaders提供额外的设置选项（可选）</p>
<h5 id="u793A_u4F8B_uFF08json-loader_uFF09"><a href="#u793A_u4F8B_uFF08json-loader_uFF09" class="headerlink" title="示例（json-loader）"></a>示例（json-loader）</h5><p>说明：使用json-loader处理json文件，继续之前的例子，把Greeter.js里的问候信息放在一个单独的JSON文件里，并通过相应的的webpack配置使Greeter.js可以读取JSON文件的值<br>安装</p>
<p><code>bash
    npm install --save-dev json-loader</code></p>
<h6 id="webpack_u914D_u7F6E"><a href="#webpack_u914D_u7F6E" class="headerlink" title="webpack配置"></a>webpack配置</h6><p>创建JSON文件 app/config.json</p>
<p>更新Greeter.js</p>
<p>运行后打开public/index.html的结果：</p>
<h5 id="u5E38_u7528_u7684Loader"><a href="#u5E38_u7528_u7684Loader" class="headerlink" title="常用的Loader"></a>常用的Loader</h5><ul>
<li>babel(十分重要强大)</li>
</ul>
<p>样式类：</p>
<ul>
<li><p>css-loader</p>
<p>  允许使用@import和url(…)实现类似requrie()的功能，和实现css模块化的功能<br>  github地址：<a href="https://github.com/webpack/css-loader" target="_blank" rel="external">https://github.com/webpack/css-loader</a></p>
</li>
<li><p>css module</p>
<p>  实现css模块化功能：Webpack从一开始就对CSS模块化提供了支持，在CSS loader中进行配置后，你所需要做的一切就是把”modules“传递都所需要的地方，然后就可以直接把CSS的类名传递到组件的代码中，且这样做只对当前组件有效，不必担心在不同的模块中具有相同的类名可能会造成的问题。</p>
</li>
<li><p>style-loader</p>
<p>  通过插入<style>标签把CSS引入到DOM，github地址：<a href="https://github.com/webpack/style-loader">https://github.com/webpack/style-loader</a></p>
</li>
<li><p>autoprefixer-loader</p>
<p>  为css代码自动添加适应不同浏览器的css前缀，github地址：<a href="https://github.com/passy/autoprefixer-loader">https://github.com/passy/autoprefixer-loader</a></p>
</li>
</ul>
<p>css预处理相关loader:</p>
<ul>
<li>less-loader github地址：<a href="https://github.com/webpack/less-loader">https://github.com/webpack/less-loader</a></li>
<li>sass-loader   github地址：<a href="https://github.com/jtangelder/sass-loader">https://github.com/jtangelder/sass-loader</a></li>
<li>stylus-loader github地址：<a href="https://github.com/shama/stylus-loader">https://github.com/shama/stylus-loader</a></li>
</ul>
<h3 id="Plugins_u63D2_u4EF6"><a href="#Plugins_u63D2_u4EF6" class="headerlink" title="Plugins插件"></a>Plugins插件</h3><p>插件（Plugins）是用来拓展Webpack功能的，它们会在整个构建过程中生效，执行相关的任务。与Loader的不同，Pluigns是在整个项目构建的过程生效的，对整个构建过程起作用，而loaders是打包过程中对相应的文件逐个处理。</p>
<p>######使用方法：<br>插件的使用一般是在 webpack 的配置信息 plugins 选项中指定。Webpack 本身内置了一些常用的插件，还可以通过 npm 安装第三方插件。</p>
<h6 id="u793A_u4F8B_28BannerPlugin_29"><a href="#u793A_u4F8B_28BannerPlugin_29" class="headerlink" title="示例(BannerPlugin)"></a>示例(BannerPlugin)</h6><ul>
<li><p>安装：</p>
<p>  BannerPlugin是用于版权声明的插件，因为是webpack内置的插件，所以无需安装，如果需要安装的话就执行：<br>  <code>npm install --save-dev &lt;插件名&gt;</code></p>
</li>
<li>配置：<br>  webpack.config.js里面先引入相关的插件：</li>
</ul>
<pre><code>然后配置plugins字段：


使用这个插件，打包后的JS文件会显示如下：
</code></pre><h6 id="u5E38_u7528_u7684Plugins"><a href="#u5E38_u7528_u7684Plugins" class="headerlink" title="常用的Plugins"></a>常用的Plugins</h6><ul>
<li><p>HtmlWebpackPlugin  生成html模板的插件</p>
</li>
<li><p>Hot Module Replacement 模块化下当组件代码更新后，自动刷新试试预览修改后的效果，配合Webpack Dev Server使用</p>
</li>
<li><p>babel-plugin-react-transform Babel一个叫做react-transform-hrm的插件，可以在不对React模块进行额外的配置的前提下让HMR正常工作</p>
</li>
</ul>
<p>优化类插件，一般用于产品发布阶段：</p>
<ul>
<li>OccurenceOrderPlugin 为组件分配ID，通过这个插件webpack可以分析和优先考虑使用最多的模块，并为它们分配最小的ID</li>
<li>UglifyJsPlugin 压缩JS代码</li>
<li>ExtractTextPlugin：分离CSS和JS文件</li>
</ul>
<h3 id="u7F13_u5B58"><a href="#u7F13_u5B58" class="headerlink" title="缓存"></a>缓存</h3><p>缓存无处不在，使用缓存的最好方法是保证你的文件名和文件内容是匹配的（内容改变，名称相应改变）</p>
<p>webpack可以把一个哈希值添加到打包的文件名中，添加特殊的字符串混合体（[name], [id] and [hash]）到输出文件名前，，配合extract-text-webpack-plugin使用方法如下：</p>
<ul>
<li>安装extract-text-webpack-plugin</li>
</ul>
<p><code>npm install --save-dev extract-text-webpack-plugin</code></p>
<ul>
<li>引入extract-text-webpack-plugin到webpack.config，并在plugin配置</li>
</ul>
<h3 id="Webpack_u7684_u6269_u5C55_u529F_u80FD"><a href="#Webpack_u7684_u6269_u5C55_u529F_u80FD" class="headerlink" title="Webpack的扩展功能"></a>Webpack的扩展功能</h3><p>####### Source Mao<br>生成Source Map(方便调试)，配置十分简单，只需要在配置文件中配置一下devtool, 然后选择适合的选项</p>
<p>增加devtool配置：</p>
<p>####### webpack-dev-server<br>此功能可以实现热更新，一旦代码修改后，浏览器可以自动刷新显示最新的结果。</p>
<ul>
<li>安装</li>
</ul>
<p><code>npm install --save-dev webpack-dev-server</code></p>
<ul>
<li>配置<br>  配置选项说明</li>
</ul>
<pre><code>webpack配置文件中加入devServer的配置


package.json中npm start 的配置改成：


以后终端进入相关目录，再输入npm start 即可开启开发服务器



浏览器输入本地服务器地址即可看到内容
</code></pre><h6 id="u4EA7_u54C1_u9636_u6BB5_u7684_u6784_u5EFA"><a href="#u4EA7_u54C1_u9636_u6BB5_u7684_u6784_u5EFA" class="headerlink" title="产品阶段的构建"></a>产品阶段的构建</h6><p>目前为止，我们已经使用webpack构建了一个完整的开发环境。但是在产品阶段，可能还需要对打包的文件进行额外的处理，比如说优化，压缩，缓存以及分离CSS和JS。</p>
<p>对于复杂的项目来说，需要复杂的配置，这时候分解配置文件为多个小的文件可以使得事情井井有条，为此可以创建一个webpack.production.config.js文件，里面的结构和内容基本和webpack.config相似，不过这里可以加入只在产品阶段使用的设置，例如plugins加入UglifyJsPlugin来压缩代码</p>
<pre><code>—————华丽的分割线—————
</code></pre><p>现在已经能通过webpack构建一个普通的项目了，不过要构建一个React项目，想要用ES6,ES7或者使用React还需要一个很重要的东西—Babel</p>
<h3 id="Babel-1"><a href="#Babel-1" class="headerlink" title="Babel"></a>Babel</h3><h5 id="u4EC0_u4E48_u662FBabel"><a href="#u4EC0_u4E48_u662FBabel" class="headerlink" title="什么是Babel"></a>什么是Babel</h5><p>Babel是一个JavaScript编译器，可以将下一代JavaScript代码转换成现代浏览器能运行的代码，还支持语法扩展，能支持像React所用的JSX语法，同时还支持用于静态检查的流式语法。</p>
<h5 id="Babel_u7684_u5DE5_u4F5C_u65B9_u5F0F"><a href="#Babel_u7684_u5DE5_u4F5C_u65B9_u5F0F" class="headerlink" title="Babel的工作方式"></a>Babel的工作方式</h5><p>Babel的一切都是插件，Babel本身被分解成几个核心的模块，用户根据项目需求使用。</p>
<h5 id="u5982_u4F55_u4F7F_u7528Babel"><a href="#u5982_u4F55_u4F7F_u7528Babel" class="headerlink" title="如何使用Babel"></a>如何使用Babel</h5><p>Babel的使用方法用很多种，可以独立使用，可以结合相关的工具使用，这里主要展示如何和webpack一起使用。</p>
<h6 id="webpack_u548CReact_u9879_u76EE_u4E2D_u4F7F_u7528Babel_u7684_u51E0_u4E2A_u91CD_u8981_u6A21_u5757_uFF1A"><a href="#webpack_u548CReact_u9879_u76EE_u4E2D_u4F7F_u7528Babel_u7684_u51E0_u4E2A_u91CD_u8981_u6A21_u5757_uFF1A" class="headerlink" title="webpack和React项目中使用Babel的几个重要模块："></a>webpack和React项目中使用Babel的几个重要模块：</h6><ul>
<li><p>babel-core：使用代码调用Babel API进行转码的模块</p>
</li>
<li><p>babel-loader：webpack的babel loader</p>
</li>
<li><p>babel-polyfill：Babel默认只转换新的JavaScript句法（syntax），而不转换新的API，比如Iterator、Generator、Set、Maps、Proxy、Reflect、Symbol、Promise等全局对象，以及一些定义在全局对象上的方法（比如Object.assign）都不会转码。如果需要这些方法可以运行，则需要使用babel-polyfill</p>
</li>
<li><p>babel-preset-stage-x：JavaScript 还有一些提案，正在积极通过 TC39（ECMAScript 标准背后的技术委员会）的流程成为标准的一部分。这个流程分为 5（0－4）个阶段。 随着提案得到越多的关注就越有可能被标准采纳，于是他们就继续通过各个阶段，最终在阶段 4 被标准正式采纳。根据项目所需部分，配置和安装对应的级别。</p>
</li>
<li><p>babel-preset-es2015：用于把ES2015（也叫做ES6）编译成ES5</p>
</li>
<li>babel-preset-react：使用react需要用的模块</li>
</ul>
<h6 id="u5176_u4ED6_u51E0_u4E2A_u91CD_u8981Babel_u6A21_u5757_3A"><a href="#u5176_u4ED6_u51E0_u4E2A_u91CD_u8981Babel_u6A21_u5757_3A" class="headerlink" title="其他几个重要Babel模块:"></a>其他几个重要Babel模块:</h6><ul>
<li>babel-cli：Babel提供cli工具，用于命令行转码。</li>
<li>babel-register：用于把Babel注册到指定模块中，模块引入后即可运行Babel</li>
<li>babel-node：如果你要用 node CLI 来运行代码，那么整合 Babel 最简单的方式就是使用 babel-node CLI，它是 node CLI 的替代品。</li>
</ul>
<h6 id="babelrc"><a href="#babelrc" class="headerlink" title=".babelrc"></a>.babelrc</h6><p>.babelrc是Babel的配置文件，存放在项目根目录下。虽然Babel可以webpack.config.js中进行配置，但是babel可以配置的选项比较多，所以支持把babel的配置单独写在名为’.babelrc’的文件中。</p>
<h6 id="u793A_u4F8B"><a href="#u793A_u4F8B" class="headerlink" title="示例"></a>示例</h6><ul>
<li><p>安装相应的包</p>
<p>  <code>npm install --save-dev babel-core babel-loader babel-preset-es2015 babel-preset-react</code></p>
</li>
<li><p>webpack中配置Babel:</p>
<p>  通过上述配置，项目允许使用ES6和JSX语法，babel的配置可以通过query简单的配置使用，也可以通过.babelrc使用。</p>
</li>
<li><p>使用.babelrc配置:</p>
<p>  webpack.config.js内容如下：</p>
<p>  .babelrc内容如下：</p>
<p>  现在webpack和babel的配置已经准备好，可以开始React项目的搭建</p>
</li>
</ul>
<h3 id="React"><a href="#React" class="headerlink" title="React"></a>React</h3><ul>
<li>安装</li>
</ul>
<p><code>npm install --save react react-dom</code></p>
<p>使用ES6的语法，更新Greeter.js并返回一个React组件</p>
<p>main.js引入并渲染Greeter模块</p>
<p>运行结果</p>
<h3 id="u603B_u7ED3_uFF1A"><a href="#u603B_u7ED3_uFF1A" class="headerlink" title="总结："></a>总结：</h3><ul>
<li>webpack是一个打包工具，主要通过loader和plugins配置，解决项目模块化的问题，配置文件是webpack.config.js</li>
<li>babel是一个JS编译器，使用babel让项目使用下一代JS进行开发，和支持像React JSX的扩展语言</li>
<li>webapck和babel可以分开工作也可以共同协助工作</li>
<li>eslint，stylelint工具可以进行对代码进行检测</li>
</ul>
<h5 id="u4E00_u4E2A_u5B8C_u6574_u7684_u9879_u76EE_u6784_u5EFA_u793A_u4F8B_uFF1A"><a href="#u4E00_u4E2A_u5B8C_u6574_u7684_u9879_u76EE_u6784_u5EFA_u793A_u4F8B_uFF1A" class="headerlink" title="一个完整的项目构建示例："></a>一个完整的项目构建示例：</h5><ol>
<li>构建项目目录</li>
<li>npm初始化，创建package.json文件</li>
<li>配置webpack</li>
<li>配置babel</li>
<li>配置package.json中script的命令</li>
<li>运行项目</li>
<li>继续开发…</li>
</ol>
<h3 id="u53C2_u8003_u6587_u7AE0"><a href="#u53C2_u8003_u6587_u7AE0" class="headerlink" title="参考文章"></a>参考文章</h3><ul>
<li><a href="http://webpackdoc.com/index.html">http://webpackdoc.com/index.html</a> webpack中文文档</li>
<li><a href="http://www.jianshu.com/p/42e11515c10f###">http://www.jianshu.com/p/42e11515c10f###</a> 入门Webpack，看这篇就够了</li>
<li><a href="http://www.jianshu.com/p/a552aef2d1a1">http://www.jianshu.com/p/a552aef2d1a1</a> CSS与SASS在webpack中的使用</li>
<li><a href="http://www.jianshu.com/p/941bfaf13be1">http://www.jianshu.com/p/941bfaf13be1</a> WEBPACK DEV SERVER</li>
<li><a href="http://www.ruanyifeng.com/blog/2016/01/babel.html">http://www.ruanyifeng.com/blog/2016/01/babel.html</a> Babel入门教程</li>
<li><a href="http://www.pro-react.com/materials/appendixA/">http://www.pro-react.com/materials/appendixA/</a>  Appendix A: Webpack for React</li>
<li><a href="http://www.w2bc.com/Article/50764">http://www.w2bc.com/Article/50764</a></li>
</ul>
</style></p></li></ul>
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/12/21/捣弄从0开始构建项目/" class="archive-article-date">
  	<time datetime="2016-12-21T04:05:41.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-12-21</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/babel/">babel</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react/">react</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/webpack/">webpack</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/项目构建/">项目构建</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/web/">web</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>

  
<nav id="article-nav">
  
  
    <a href="/2015/12/30/wechat-develope/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">微信开发入门</div>
      <i class="icon-circle-right"></i>
    </a>
  
</nav>




<div class="share_jia">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">Share to: &nbsp; </span>
		<a class="jiathis_button_facebook"></a> 
	    <a class="jiathis_button_twitter"></a>
	    <a class="jiathis_button_plus"></a> 
	    <a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
    <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="//v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>






<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="捣弄从0开始构建项目" data-title="捣弄从0开始构建项目" data-url="http://jaceechan.github.io/2016/12/21/捣弄从0开始构建项目/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"jckuroko"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>





      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Jacee Chan
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true
	}
</script>

<script src="/./main.js" type="text/javascript"></script>


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">全部</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">标签</span><i class="icon-price-tags"></i></li>
    
    
    
      <li data-hook="tools-section-me"><span class="text">我</span><i class="icon-smile"></i></li>
    
  </ul>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				<a href="/tags/babel/" style="font-size: 10px;">babel</a> <a href="/tags/react/" style="font-size: 10px;">react</a> <a href="/tags/webpack/" style="font-size: 10px;">webpack</a> <a href="/tags/wechat/" style="font-size: 10px;">wechat</a> <a href="/tags/微信/" style="font-size: 10px;">微信</a> <a href="/tags/微信公众号/" style="font-size: 10px;">微信公众号</a> <a href="/tags/项目构建/" style="font-size: 10px;">项目构建</a>
    			</div>
    	</section>
    

    

    
    	<section class="tools-section tools-section-me">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">A JavaScript Developer</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>